{"componentChunkName":"component---src-templates-blog-post-js","path":"/trying-rust-lang/","result":{"data":{"site":{"siteMetadata":{"title":"Damola's blog"}},"markdownRemark":{"id":"dc913419-4319-5746-99fa-c5ecfd89bd1b","excerpt":"Rust holds the crown for “most-loved” language (5 years in a row) according to the stack overflow survey - quite an impressive feat. I actually didn’t know Rust…","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Rust holds the crown for “most-loved” language ("},{"type":"element","tagName":"a","properties":{"href":"https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-languages"},"children":[{"type":"text","value":"5 years in a row"}]},{"type":"text","value":") according to the stack overflow survey - quite an impressive feat. I actually didn’t "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"know"}]},{"type":"text","value":" Rust was this beloved until I started writing this post and checked its position. I however have been wanting to foray into development with WebAssembly (wasm) for some time. Rust probably has the largest ecosystem for building with WebAssembly. And best suited for wasm over languages like Java or C# (or even GoLang) since they all have garbage collectors and require at least some form of minimal run time to be packaged with the code to run. Compiled rust wasm will generally come out smaller than the alternatives since it has no garbage collector - and smaller is "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"always"}]},{"type":"text","value":" better with web apps."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Rust is like C++, but it makes memory management/safety "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"much less"}]},{"type":"text","value":" painful. The hard work is done at "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"compile time"}]},{"type":"text","value":". Just thinking of the many times I got "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"segfault"}]},{"type":"text","value":" writing C++ in college… yikes 😟. This is where Rust shines - while staying as efficient as C++. I say “efficient”, without any numbers but Google “Rust” and the first sentence should be “Performance.” (Literally, that one-word sentence)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I have "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"tried"}]},{"type":"text","value":" Rust before, but the first try left me very… confused. I was “fighting the borrow checker” (a key way Rust guarantees memory safety) so I sort of… "},{"type":"element","tagName":"del","properties":{},"children":[{"type":"text","value":"gave up"}]},{"type":"text","value":" put it in the backlog. Knowing that I wanted to do something (anything) with Rust, my first goal was finding out ax “Hello World” program. It was mostly by chance, but I found "},{"type":"element","tagName":"a","properties":{"href":"https://yew.rs"},"children":[{"type":"text","value":"yew"}]},{"type":"text","value":" on "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/gothinkster/realworld"},"children":[{"type":"text","value":"the “realworld” repo"}]},{"type":"text","value":". Yew is a framework for building web apps with Rust. I will not write about setting up Rust, the "},{"type":"element","tagName":"a","properties":{"href":"https://doc.rust-lang.org/book/ch01-00-getting-started.html"},"children":[{"type":"text","value":"rust documentation"}]},{"type":"text","value":" is a great resource (and always my go-to when lost)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Yew was fairly straightforward to get started with. There’s a sample app in the documentation that I was able to run within minutes. The framework is component-based so coming from mostly React, I felt at home - at least from a high level. Components have state and receive props from their parents. I highly recommend reading the yew docs if curious. The documentation is solid. (A very common theme in Rust-land)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I wanted create something that does a little more than showing hard-coded text, maybe call an API and update the UI based on the response.\nSo, I decided to create a clone of "},{"type":"element","tagName":"a","properties":{"href":"https://rickandmortyapi.com"},"children":[{"type":"text","value":"rickandmortyapi.com"}]},{"type":"text","value":" with Yew. I don’t think one should reach for Yew just to build a web app that calls an api and writes the response. (You could get away with "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"no framework"}]},{"type":"text","value":" and just write a few lines JavaScript). But this was a happy medium for me, especially since I didn’t have a computationally complex problem to solve.\nI used "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/jetli/create-yew-app"},"children":[{"type":"text","value":"create yew app"}]},{"type":"text","value":" to bootstrap a new app and created an (ugly) clone of the site."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The result is "},{"type":"element","tagName":"a","properties":{"href":"http://old-test.surge.sh"},"children":[{"type":"text","value":"here"}]},{"type":"text","value":".\nHere’s a snippet of a component method ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rendered"}]},{"type":"text","value":") that’s called at every render (a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"useEffect"}]},{"type":"text","value":" in React).\nHere, I’m calling the api after the first render to fetch characters for the first page:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"language":"rust","theme":"one-dark"},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"    fn rendered(&mut self, first_render: bool) {\n        if first_render {\n            let link = self.link.clone();\n            wasm_bindgen_futures::spawn_local(async move {\n                let cs = get_page(1).await;\n                match cs {\n                    Err(e) => {\n                        ConsoleService::error(\"failed to get characters\");\n                        ConsoleService::error(&e.to_string());\n                    }\n                    Ok(r) => {\n                        link.send_message(Msg::UpdateCharacters(r.results));\n                        link.send_message(Msg::UpdateCurrentPage(1));\n                        link.send_message(Msg::UpdatePageInfo(r.info));\n                    }\n                };\n            })\n        }\n    }"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"One major highlight from this is "},{"type":"element","tagName":"a","properties":{"href":"#pattern-matching"},"children":[{"type":"text","value":"pattern matching"}]},{"type":"text","value":".\nThe code would not compile if the error branch was not handled. Seemingly trivial but, I think it’s one of those guard rails that’s really protecting the programmer from self-inflicted pain."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"get_page"}]},{"type":"text","value":" function is from "},{"type":"element","tagName":"a","properties":{"href":"https://crates.io/crates/rick-and-morty"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rick_and_morty"}]}]},{"type":"text","value":" crate which was added after finishing the yew app and realizing it should be easy to refactor and publish the logic as a separate library (I noticed Rust was missing from the helper libraries available "},{"type":"element","tagName":"a","properties":{"href":"https://rickandmortyapi.com/documentation/#libraries"},"children":[{"type":"text","value":"here"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I am so surprised at how easy it was for me to create a library in Rust. Really, why isn’t every other language like this? This started with me wanting to learn Rust by writing a WebAssembly app; It ended with me publishing a "},{"type":"element","tagName":"a","properties":{"href":"https://crates.io/"},"children":[{"type":"text","value":"crate"}]},{"type":"text","value":" in Rust (and absolutely loving the entire process)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"editor-support","style":"position:relative;"},"children":[{"type":"text","value":"Editor Support:"},{"type":"element","tagName":"a","properties":{"href":"#editor-support","ariaLabel":"editor support permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I was hoping to find a dedicated IDE for Rust. It seems like it would benefit a lot from having a full-fledged environment (like Goland) - there isn’t one. But, there is a pretty solid "},{"type":"element","tagName":"a","properties":{"href":"https://marketplace.visualstudio.com/items?itemName=rust-lang.rust"},"children":[{"type":"text","value":"extension"}]},{"type":"text","value":" for VS Code. I was not expecting anything impressive. VSCode is, a code "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"editor"}]},{"type":"text","value":" at the end of the day. And it especially seems to struggle with everything that’s not JavaScript or TypeScript. My main issue is how it slows down with larger codebase, “Go To Definition” sometimes refusing to work. The Rust extension was pretty good. I think an IDE would do even better (and I’m hoping JetBrains makes one 🤞🏾). The main issues I ran into were (rare) occasions where hovering a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Struct"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"method"}]},{"type":"text","value":" etc would not show the proper documentation for it, and trying to go to the definition would also not work. Also, lint and error checking always take an extra second to show after saving. So it always feels like the editor is trying to catch up to me. After linting and compiling is done, and the messages show up in the editor— wow, I don’t think I’ve worked with a compiler as helpful as Rust’s."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"compiler-messages","style":"position:relative;"},"children":[{"type":"text","value":"Compiler Messages"},{"type":"element","tagName":"a","properties":{"href":"#compiler-messages","ariaLabel":"compiler messages permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Rust’s compiler errors and warnings are probably the most pleasant part of working in Rust when just getting started. I don’t remember the compiler being this friendly the first time I tried Rust (3-ish years ago). It points out exactly where something’s gone wrong and, often, even suggests "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"how"}]},{"type":"text","value":" to fix it.\nThis is an example of one such message that shows in VSCode:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"media-box","properties":{"src":"media/trying-rust-lang/rust-compiler-message.png","name":"A very helpful message from the Rust compiler.","index":"0"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This makes coding a lot easier - and the image is possibly the most trivial example. There are also a "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"lot"}]},{"type":"text","value":" of compiler flags to warn/error on things like unused imports/dead code, and even fail on missing documentation! This may not be groundbreaking but I think Rust`s approach just makes it so … approachable :)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"life-time-and-borrow-checking","style":"position:relative;"},"children":[{"type":"text","value":"Life Time And Borrow Checking."},{"type":"element","tagName":"a","properties":{"href":"#life-time-and-borrow-checking","ariaLabel":"life time and borrow checking permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I can’t write too much on this as I am definitely not an expert. But it is important to write just about any Rust code. It’s how Rust makes sure references that are no longer used are discarded (and discarded references are "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"never"}]},{"type":"text","value":" used).\nI didn’t find it too hard to wrap my head around this - even though it was my point of failure the first time I tried Rust. It’s like learning how scopes work and then turning it up to 200. I recommend reading the Rust book’s "},{"type":"element","tagName":"a","properties":{"href":"https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html"},"children":[{"type":"text","value":"primer"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"pattern-matching","style":"position:relative;"},"children":[{"type":"text","value":"Pattern Matching."},{"type":"element","tagName":"a","properties":{"href":"#pattern-matching","ariaLabel":"pattern matching permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After working with Rust’s "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Option"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Result"}]},{"type":"text","value":" types. Going back to writing JavaScript feels like a regression.\nRust has a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"match"}]},{"type":"text","value":" expression which is like a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"switch"}]},{"type":"text","value":" statement (or "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"if/else"}]},{"type":"text","value":" ) in most languages - except it "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"makes"}]},{"type":"text","value":" you write code better. A lot better.\nThings like "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"switch"}]},{"type":"text","value":" fall-through - which, you know, why? WHY do so many languages have switch statements fall through by default?? (and "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"require"}]},{"type":"text","value":" using a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"break"}]},{"type":"text","value":" - leading to weird bugs in code, because a switch branch is missing a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"break"}]},{"type":"text","value":"). No more dealing with all that nonsense. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"match"}]},{"type":"text","value":" to the rescue! What I like the most about "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"match"}]},{"type":"text","value":" is the exhaustiveness of it. If you switch over an enumeration of 3 possible values. And then later the enum is extended to 4. In most languages, the previous code would still work (but could potentially have bugs because of a missing case). With "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"match"}]},{"type":"text","value":" - that missing case is a compile error! These are the kind of edge cases you’d need unit tests for — and now they’re free.\nThis really shines when dealing with an "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Option"}]},{"type":"text","value":". A wrapper for something that could have a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Some(value)"}]},{"type":"text","value":" or be "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"None"}]},{"type":"text","value":". "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"match"}]},{"type":"text","value":" forces you to write the code to handle both cases. Every time. So you’ll never accidentally pass a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"None"}]},{"type":"text","value":" to a place that can’t handle it! (No more "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null pointer exceptions"}]},{"type":"text","value":") The same for "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Result"}]},{"type":"text","value":" (as in the sample code). Ensuring an error is "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"always"}]},{"type":"text","value":" handled. There’s some helper methods for working with these types. But the general rule is: you won’t unintentionally miss an edge case. This is great. It actually frees up more mental real state knowing the compiler has your back that way."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"macros","style":"position:relative;"},"children":[{"type":"text","value":"Macros"},{"type":"element","tagName":"a","properties":{"href":"#macros","ariaLabel":"macros permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Macros in Rust were sort of like voodoo the first time I saw it (why is it "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"println!()"}]},{"type":"text","value":" and not "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"println()"}]},{"type":"text","value":"). I mostly ignored how it works and just "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"used"}]},{"type":"text","value":" it when I needed it. I started to appreciate the power of macros when I jumped into "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"yew"}]},{"type":"text","value":" and noticed that they had created a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"jsx-like"}]},{"type":"text","value":" syntax for writing declarative html views.\nThere’s an "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"html!"}]},{"type":"text","value":" macro that renders html views. In the rickandmorty app, this is a sample macro that renders a single character:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"language":"rust","theme":"one-dark"},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"            html! {\n                <li class=\"character-list-item\">\n                    <div class=\"character-container\">\n                        <div>\n                            <img src={copy.image} alt={\"image of\"} />\n                        </div>\n                        <div>\n                            <p>{copy.name}</p>\n                            <p>{\"Status: \"} {copy.status}</p>\n                            <p>{\"Location:\"} {copy.origin.name}</p>\n                        </div>\n                    </div>\n                </li>\n            }"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I haven’t written any macros (and I doubt I’ll need to anytime soon), but my little trick of understanding them is they’re a way of auto-generating code (“meta-programming”). So the macro is “expanded” at compile time into rust code (i.e. code that creates the dom elements in the case of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"html!"}]},{"type":"text","value":").\nIf you’re wondering "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"why"}]},{"type":"text","value":" macros, why not functions? Good question; Rust doesn’t have function overloading, or variadic parameters, so in this "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"html"}]},{"type":"text","value":" case where the dom tree structure (the function input) cannot be known beforehand, the equivalent function is basically impossible to write. Hence a macro is needed."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"package-management-cargo-cratesio-docsrs","style":"position:relative;"},"children":[{"type":"text","value":"Package Management (Cargo, crates.io, docs.rs)"},{"type":"element","tagName":"a","properties":{"href":"#package-management-cargo-cratesio-docsrs","ariaLabel":"package management cargo cratesio docsrs permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Dealing with webpack has to be one of the last things I ever want to do when working in a large JavaScript project. It’s like it was deliberately designed to be complex (complicated?) and intimidating. I mean, I get that it’s actually solving a problem but, it’s a pain. CLI tools like vue, angular and create-react-app have made things a lot easier but - those are all framework-specific. So whenever there’s a need to do something the defaults aren’t designed for - well, that becomes a rabbit hole. Cargo is what I "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"expect"}]},{"type":"text","value":" a package manager to look like. There are commands for everything from creating a new rust library or binary, running tests, generating docs, building the code, packaging "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"and"}]},{"type":"text","value":" publishing."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Knowing the process is so straightforward (and very well documented) motivated me to create a new library ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"cargo new --lib {lib name}"}]},{"type":"text","value":") and publish it on ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"cargo publish"}]},{"type":"text","value":") "},{"type":"element","tagName":"a","properties":{"href":"https://crates.io/crates/rick-and-morty"},"children":[{"type":"text","value":"crates.io"}]},{"type":"text","value":" and have the documentation automatically generated on "},{"type":"element","tagName":"a","properties":{"href":"https://docs.rs/rick-and-morty/0.1.0/rick_and_morty/"},"children":[{"type":"text","value":"docs.rs"}]},{"type":"text","value":" (with a viewable local version through "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"cargo docs"}]},{"type":"text","value":"). I did across about 3 days in my spare time. From scratch, learning the language, ecosystem and publishing a package. That’s not something I think is easily done in many other languages. The actual library (and what it does), I don’t think is impressive. But how the entire process worked - makes me feel like I can more easily build something in Rust, and not feel like I’m fighting everything else along the way."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Rust is a relatively new language compared to most other popular languages like Python, JavaScript, C/C++; even GoLang is older (and Go probably excels to some extent on the same things mentioned). So it has had the chance to learn from all the bad decisions (and does JavaScript have a lot of those) - and really do things right. It excels at "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"It Just Works"}]},{"type":"text","value":"™ . And for that, I am glad. I can’t wait to figure out "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"what"}]},{"type":"text","value":" to do with all this "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"power"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To reiterate: I’ve only spent a few days with Rust, there is a ton more stuff that Rust offers that I haven’t tried yet. To the Rust expert, forgive my naiveté."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"My wishlist for Rust long-term:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"A solid cross-platform sdk for building native apps. I generally prefer the speed of native apps versus electron-based apps. But there really aren’t a lot of great alternatives to electron and JavaScript here (ie. VSCode’s unimpressive handling of large files vs Sublime). I think Rust would be a perfect fit."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Native DOM apis for wasm. Right now, wasm code, regardless of the language, still depends on the JS dom api for making changes to UI. So technically, they’re not yet any faster than JavaScript. That will (hopefully) eventually change. And when it does; I think the web will become an even more platform for building… everything."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"useful-links","style":"position:relative;"},"children":[{"type":"text","value":"Useful Links:"},{"type":"element","tagName":"a","properties":{"href":"#useful-links","ariaLabel":"useful links permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://doc.rust-lang.org/book/ch01-00-getting-started.html"},"children":[{"type":"text","value":"Setting up Rust"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://yew.rs"},"children":[{"type":"text","value":"Yew"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/jetli/create-yew-app"},"children":[{"type":"text","value":"Create Yew App"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://rickandmortyapi.com"},"children":[{"type":"text","value":"rickandmortyapi.com"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/dshomoye/rick-and-morty"},"children":[{"type":"text","value":"rick-and-morty rust library code"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://crates.io/crates/rick-and-morty"},"children":[{"type":"text","value":"rick-and-morty crate"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.rs/rick-and-morty/0.1.0"},"children":[{"type":"text","value":"docs for crate"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"frontmatter":{"title":"Testing the waters - Thoughts on Rust.","date":"December 17, 2020","description":"The not-so-steep uphill climb to building in Rust.","gallerySources":[{"caption":"Helpful Rust compiler messages.","src":"media/trying-rust-lang/rust-compiler-message.png","type":"image"}],"lastUpdated":null,"tags":["technology"]},"timeToRead":10}},"pageContext":{"slug":"/trying-rust-lang/","previous":{"parent":{"name":"index"},"fields":{"slug":"/observables-hard-easy/"},"frontmatter":{"title":"Learning Observables the hard (easy) way"}},"next":{"parent":{"name":"index"},"fields":{"slug":"/ios-shortcuts/"},"frontmatter":{"title":"It's time to take iOS shortcuts seriously."}}}},"staticQueryHashes":["139983731","63159454"]}